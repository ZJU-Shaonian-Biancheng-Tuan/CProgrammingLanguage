0 0 0 0
1 3 1 1
0 0 0 0
0 0 0 0
0 1 0 0
0 3 0 0
0 1 0 0
0 1 0 0

0 0 0 0
1 3 1 0
0 0 1 0
0 0 0 0
0 1 0 0
0 3 0 0
1 1 0 0
0 0 0 0
1 0 0 0
1 3 1 0
0 0 0 0
0 0 0 0
0 1 1 0
0 3 0 0
0 1 0 0
0 0 0 0
0 0 0 0
1 3 1 0
1 0 0 0
0 0 0 0

1 1 0 0
0 3 0 0
0 1 0 0
0 0 0 0
0 0 1 0
1 3 1 0
0 0 0 0
0 0 0 0
0 1 0 0
0 3 0 0
0 1 1 0
0 0 0 0
0 0 0 0
1 3 1 0
1 0 0 0
0 0 0 0

0 1 0 0
0 3 1 0
0 0 1 0
0 0 0 0
0 0 0 0
0 3 1 0
1 1 0 0
0 0 0 0

0 1 0 0
1 3 0 0
1 0 0 0 
0 0 0 0
0 0 0 0
1 3 0 0
0 1 1 0
0 0 0 0

0 1 0 0
1 3 1 0
0 0 0 0
0 0 0 0
0 1 0 0
0 3 1 0
0 1 0 0
0 0 0 0
0 0 0 0
1 3 1 0
0 1 0 0
0 0 0 0
0 1 0 0
1 3 0 0
0 1 0 0
0 0 0 0

1 1 0 0
1 1 0 0
0 0 0 0
0 0 0 0


(x, y)

for (i = -1; i <= 3; i++){
    for (j = -1; j <= 3; j++){
        if (x+i < 0 && x+i >= 4) continue;
		if (x-j < 0 && x-j >= 4) continue;
		if (y+j < 0 && y+j >= 4) continue;
		if (y+i < 0 && y+i >= 4) continue;
		if (i == 0 && j == 0) continue;
		new[x-j][y+i] = old[x+i][y+j];
	}